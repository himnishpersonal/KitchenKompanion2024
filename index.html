<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kitchen Kompanion</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="title-bar">
        <div id="hamburger-menu" class="hamburger-menu disable-select">&#9776;
            <div id="hamburger_main" class="hamburger-dropdown-container">
                <nav class="hamburger-dropdown">
                    <div class="hamburger-item" onclick="openTab(1)">
                        <span><i class="fas fa-bread-slice"></i> Food Inventory</span>
                    </div>
                    <div class="hamburger-item" onclick="openTab(2)">
                        <span><i class="fas fa-plus-circle"></i> Food Input</span>
                    </div>
                    <div class="hamburger-item" onclick="openTab(3)">
                        <span><i class="fas fa-utensils"></i> Recipe</span>
                    </div>
                    <div class="hamburger-item" onclick="openTab(4)">
                        <span><i class="fas fa-list"></i> Shopping List</span>
                    </div>
                    <div class="hamburger-item" onclick="openTab(5)">
                        <span><i class="fas fa-user"></i> Customize Profile</span>
                    </div>
                </nav>
            </div>
        </div>
        <h1>Kitchen Kompanion</h1>
        <div id="profile-menu" onclick="openTab(5)">
            <i class="fas fa-user-circle"></i>
        </div>
    </header>

    <div class="mobile-screen">

        <div class="mobile-content" id="tab_one">
            <section class="welcome-section">
                <h2>Welcome, <span class="cur_user_name_instance">PLACEHOLDER!</span></h2>
                <!-- <label for="space-select">Your current space:</label>
                <select id="space-select">
                    <option value="kitchen">Tempo 215</option>
                    <option value="pantry">Parent's Home</option>
                    <option value="fridge">Grandparent's Home</option>
                </select> -->
            </section>

            <section class="inventory-info">
                <div class="info-box">
                    <h3>You have 10 items</h3>
                    <p>Tap to view</p>
                </div>
                <div class="info-box">
                    <h3>You have 2 item(s) about to expire</h3>
                    <p>Tap to view</p>
                </div>
            </section>
        </div>

        
        <div class="mobile-content" id="tab_two">
             <div class="food-input-title-container">
                <h2>Input Food</h2>
                <div>
                    <label for="name">Refrigerator or Pantry:</label>
                    <select id="pantryOrRefrigerator" name="pantryOrRefrigerator" class="styled-dropdown" required>
                        <option value="refrigerator">Refrigerator</option>
                        <option value="pantry">Pantry</option>
                    </select>
                </div>
            </div>
            

            <form id="new-food-form">
                <label for="name">Food Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter food name" required>
                <br>
                <br>
                <br>
    
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" placeholder="Enter quantity" min="1" required>
                <br>
                <br>
                <br>
    
                <label for="date">Expiration Date:</label>
                <input type="date" id="date" name="date" required>
                <br>
                <br>
                <br>

                <label for="allergens">Allergens:</label>
                <select id="allergens" class="styled-dropdown">
                    <option value="None" selected>None</option>
                    <option value="Peanuts">Peanuts</option> 
                    <option value="Dairy">Dairy</option>
                    <option value="Soy">Soy</option>
                    <option value="Gluten">Gluten</option>
                </select>
                <br>
                <br>
                <br>
    
                <button type="reset" id="clear" class="styled-button">Clear</button>
                <button type="submit" id="submit" class="styled-button">Enter</button>
    
            </form>

            <br>
            <br>
            <br>

            <h2>Your Foods</h2>
                
            
            <div class="food-input-scroll" id="food-input-scroll">
            </div>

            <br>

           
          
        </div>

        
        <div class="mobile-content" id="tab_three">
            <h2>Search For Recipes</h2>
            <div>
                <h4>Select Your Preferences!</h4>
                <label for="cooking-skill">Cooking Skill:</label>
                <select id="cooking-skill" class="styled-dropdown">
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate" selected>Intermediate</option> 
                    <option value="Advanced">Advanced</option>
                </select>
                <br>
                <br>
                <br>
                <label for="dietary-restrictions">Dietary Restrictions:</label>
                <select id="dietary-restrictions" class="styled-dropdown">
                    <option value="None" selected>None</option>
                    <option value="Vegetarian">Vegetarian</option> 
                    <option value="Vegan">Vegan</option>
                    <option value="Gluten-Free">Gluten-Free</option>
                    <option value="Keto">Keto</option>
                </select>
                <br>
                <br>
                <br>
                <label for="allergens">Allergens:</label>
                <select id="allergens" class="styled-dropdown">
                    <option value="None" selected>None</option>
                    <option value="Peanuts">Peanuts</option> 
                    <option value="Dairy">Dairy</option>
                    <option value="Soy">Soy</option>
                    <option value="Gluten">Gluten</option>
                </select>
                <div id="variable-output"></div>
                <br>
                <br>
                <br>
                <button id="generate-recipes" class="styled-button" onclick=" setupRecipeGeneration()">Search Recipes</button>
                <button id="favorite-recipes" class="styled-button">Favorite Recipes</button>
                <br>
                <br>
                <br>
                <div id="recipe-container">
                    <div id="recipe-output" class="scrollable-box"></div>
                    <div id="favorite-recipes-output" class="scrollable-box"></div>
                </div>
                <div id="favorite-recipes-output" style="display: none;"></div>
            </div>
        </div>


        <div class="mobile-content" id="tab_four">
            <h2>Shopping List</h2>
            <input type="text" id="shopping-item-input" placeholder="Enter item"/>
            <button id="add-to-shopping-list" class="styled-button" onclick="addItemToShopping()" >Add to Shopping List</button>

            <select id="sort-options" onchange="sortShoppingList()">
                <option value="recent">Sort by Recency</option>
                <option value="alphabetical">Sort Alphabetically</option>
            </select>

            <ul id="shopping-list-output"></ul>
        </div>
        <script>
            let shoppingList = [];
    
            function addItemToShopping() {
                const inputField = document.getElementById('shopping-item-input');
                const item = inputField.value.trim(); 
    
                if (item) {
                    shoppingList.push({name: item, timestamp: new Date() }); 
                    updateShoppingListDisplay(); 
                    inputField.value = ''; // clears the input field
                } else {
                    alert('Please enter an item to add to the shopping list.');
                }
            }
    
            function updateShoppingListDisplay() {
                const shoppingListOutput = document.getElementById('shopping-list-output');
                shoppingListOutput.innerHTML = ''; // Clear previous list
    
                shoppingList.forEach((item) => {
                    shoppingListOutput.innerHTML += `<li>${item.name}</li>`; // Add each item to the list
                });
            }

            function sortShoppingList(){
                const sortOption = document.getElementById('sort-options').value;

                if(sortOption === 'alphabetical'){
                    shoppingList.sort((a,b) => a.name.localeCompare(b.name));
                }else{
                    shoppingList.sort((a, b) => b.timestamp - a.timestamp);
                }

                updateShoppingListDisplay();
            }
        </script>

        <div class="mobile-content" id="tab_five">
            <h2>Profile Customization</h2>
            <h3>Personal Details</h3>
            <div>The name on your account is <span class="cur_user_name_instance">PLACEHOLDER</span></div>
            <br>
            <form>
                <label>
                    <input id="name_input" type="text" name="change_name" value="" placeholder="Enter new name here"> 
                    <input type="button" value="Change name" onclick=setUserName()>
                </label><br>
            </form>
            <br>
            <div>The email for your account is <span class="cur_user_email_instance">PLACEHOLDER</span></div>
            <br>
            <form>
                <label>
                    <input id="email_input" type="text" name="change_email" value="" placeholder="Enter new email here"> 
                    <input type="button" value="Change email" onclick=setUserEmail()>
                </label><br>
            </form>
            <h3>Cooking skill</h3>
            <select id="cooking-skill" class="styled-dropdown">
                <option value="Beginner">Beginner</option>
                <option value="Intermediate" selected>Intermediate</option> 
                <option value="Advanced">Advanced</option>
            </select>
            <h3>Dietary Restrictions</h3>
            <form>
                <label>
                    <input type="checkbox" name="no_peanuts" value="false"> No peanuts
                </label><br>
                <label>
                    <input type="checkbox" name="no_dairy" value="false"> No dairy
                </label><br>
                <label>
                    <input type="checkbox" name="no_soy" value="false"> No soy
                </label><br>
                <label>
                    <input type="checkbox" name="no_gluten" value="false"> No gluten
                </label><br>
            </form>

            <h3>Dietary Preferences</h3>
            <div>TODO. We have not decided on this category yet.</div>

            <form>
                
            </form>
        </div>
    
        <nav class="tab-bar">
            <button class="tab selected" onclick="openTab(1)">
                <i class="fas fa-bread-slice"></i><br>Food Inventory
            </button>
            <button class="tab" onclick="openTab(2)">
                <i class="fas fa-plus-circle"></i><br>Food Input
            </button>
            <button class="tab" onclick="openTab(3)">
                <i class="fas fa-utensils"></i><br>Recipe
            </button>
            <button class="tab" onclick="openTab(4)">
                <i class="fas fa-list"></i><br>Shopping List
            </button>
        </nav>
    </div>

    <script src="app.js"></script>
</body>
</html>
